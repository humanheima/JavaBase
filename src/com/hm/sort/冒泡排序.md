# 冒泡排序算法解析与Java实现

## 算法概述

冒泡排序（Bubble Sort）是一种简单的排序算法，它重复地遍历要排序的列表，比较相邻的元素并交换它们的位置（如果它们的顺序错误）。这个过程会持续进行，直到列表已经排序完成。

## 算法特点

- **时间复杂度**：
    - 最好情况（已排序）：O(n)
    - 平均和最坏情况：O(n²)
- **空间复杂度**：O(1)（原地排序）
- **稳定性**：稳定（相同元素的相对位置不会改变）

## Java实现

```java
public class BubbleSort {
    
    // 冒泡排序基本实现
    public static void bubbleSort(int[] arr) {
        int n = arr.length;
        for (int i = 0; i < n - 1; i++) {
            for (int j = 0; j < n - i - 1; j++) {
                if (arr[j] > arr[j + 1]) {
                    // 交换相邻元素
                    int temp = arr[j];
                    arr[j] = arr[j + 1];
                    arr[j + 1] = temp;
                }
            }
        }
    }
    
    // 优化的冒泡排序实现
    public static void optimizedBubbleSort(int[] arr) {
        int n = arr.length;
        boolean swapped;
        for (int i = 0; i < n - 1; i++) {
            swapped = false;
            for (int j = 0; j < n - i - 1; j++) {
                if (arr[j] > arr[j + 1]) {
                    // 交换相邻元素
                    int temp = arr[j];
                    arr[j] = arr[j + 1];
                    arr[j + 1] = temp;
                    swapped = true;
                }
            }
            // 如果这一轮没有发生交换，说明数组已经有序
            if (!swapped) {
                break;
            }
        }
    }
    
    public static void main(String[] args) {
        int[] arr = {64, 34, 25, 12, 22, 11, 90};
        
        System.out.println("排序前:");
        printArray(arr);
        
        // bubbleSort(arr);
        optimizedBubbleSort(arr);
        
        System.out.println("排序后:");
        printArray(arr);
    }
    
    private static void printArray(int[] arr) {
        for (int value : arr) {
            System.out.print(value + " ");
        }
        System.out.println();
    }
}
```

## 算法解析

1. **基本实现**：
    - 外层循环控制排序轮数（n-1轮）
    - 内层循环比较相邻元素，将较大的元素"冒泡"到右侧
    - 每轮结束后，最大的元素会移动到正确的位置

2. **优化实现**：
    - 添加了`swapped`标志位，用于检测某一轮是否发生了交换
    - 如果某一轮没有发生交换，说明数组已经有序，可以提前终止排序
    - 这种优化对近乎有序的数组特别有效

3. **排序过程示例**：
   ```
   初始数组: [5, 3, 8, 6, 2]
   
   第一轮:
   [3, 5, 8, 6, 2] (交换5和3)
   [3, 5, 8, 6, 2] (不交换)
   [3, 5, 6, 8, 2] (交换8和6)
   [3, 5, 6, 2, 8] (交换8和2)
   
   第二轮:
   [3, 5, 6, 2, 8] (不交换)
   [3, 5, 6, 2, 8] (不交换)
   [3, 5, 2, 6, 8] (交换6和2)
   
   第三轮:
   [3, 5, 2, 6, 8] (不交换)
   [3, 2, 5, 6, 8] (交换5和2)
   
   第四轮:
   [2, 3, 5, 6, 8] (交换3和2)
   ```

   排序完成。

冒泡排序虽然简单，但由于其较高的时间复杂度，通常不适用于大规模数据排序。然而，它对于理解排序算法的基本原理非常有帮助。